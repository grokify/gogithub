# gogithub Roadmap

This roadmap documents planned and completed features for this project.

The format is based on and generated by [Structured Roadmap](https://github.com/grokify/structured-roadmap), which provides a machine-readable JSON intermediate representation with deterministic Markdown generation.

## Overview <a href="#gogithub-roadmap">↑ Top</a>

gogithub is a Go client library for the GitHub API, providing high-level operations for authentication, search, repositories, pull requests, and releases.

This roadmap tracks improvements identified during code review to enhance code quality, test coverage, and feature completeness.

---

## Critical <a href="#gogithub-roadmap">↑ Top</a>

<a id="add-tests"></a>

### [ ] Add comprehensive test suite

Zero test files in entire codebase. Create *_test.go files for each package with >80% coverage target.

- [ ] Add tests for auth package
- [ ] Add tests for search package
- [ ] Add tests for repo package
- [ ] Add tests for pr package
- [ ] Add tests for release package
- [ ] Add tests for cliutil package

<a id="fix-hardcoded-path"></a>

### [ ] Fix hardcoded path in bulk_git_rm

cliutil/cmd/bulk_git_rm/main.go:15 contains hardcoded user-specific path. Should accept directory as command-line flag.

---

## High Priority <a href="#gogithub-roadmap">↑ Top</a>

<a id="fix-auth-error-unwrap"></a>

### [ ] Add Unwrap() to AuthError

auth.AuthError doesn't implement Unwrap() unlike other custom error types. Add for Go 1.13+ error chain compatibility.

<a id="extract-pagination"></a>

### [ ] Extract pagination utility

Nearly identical pagination code exists in repo/list.go, release/release.go, and search/search.go. Create shared pagination helper to reduce duplication.

<a id="fix-query-encode"></a>

### [ ] Make Query.Encode() deterministic

Query.Encode() iterates over map which has non-deterministic order. Sort keys before encoding to ensure consistent output.

<a id="update-readme"></a>

### [ ] Update README for v81

README references go-github v68 but go.mod uses v81. Align documentation with actual version.

---

## Medium Priority <a href="#gogithub-roadmap">↑ Top</a>

<a id="add-cliutil-docs"></a>

### [ ] Add cliutil package documentation

cliutil package has no package-level documentation comment. Add clear description of package purpose.

<a id="add-release-write-ops"></a>

### [ ] Add release write operations

Release package only has read operations. Add CreateRelease, UpdateRelease, DeleteRelease functions.

- [ ] Add CreateRelease function
- [ ] Add UpdateRelease function
- [ ] Add DeleteRelease function

<a id="improve-fork-async"></a>

### [ ] Improve fork async handling

EnsureFork uses hardcoded time.Sleep() without retries. Implement proper retry mechanism with exponential backoff.

---

## Enhancements <a href="#gogithub-roadmap">↑ Top</a>

<a id="add-branch-protection"></a>

### [ ] Add branch protection operations

Add functions for managing branch protection rules.

<a id="add-webhook-ops"></a>

### [ ] Add webhook operations

Add functions for managing repository webhooks.

<a id="reduce-dependencies"></a>

### [ ] Reduce external dependencies

gocharts pulled in just for table generation in search package. Consider moving table generation to separate subpackage or module.

<a id="standardize-clients"></a>

### [ ] Standardize client initialization

Multiple ways to create clients exist (NewClient, NewClientWithToken, NewClientHTTP, NewGitHubClient). Document preferred approach and consider deprecating redundant factories.

---

## v0.4.0 Breaking Changes <a href="#gogithub-roadmap">↑ Top</a>

The following breaking changes are planned for v0.4.0 to remove deprecated code introduced in v0.3.0. Users should migrate before upgrading to v0.4.0.

<a id="remove-compat-shims"></a>

### [ ] Remove backward compatibility shims from root package

**Deprecated in:** v0.3.0

Remove deprecated re-exports from gogithub.go added in v0.3.0 for backward compatibility. Users should migrate to importing subpackages directly (auth/, search/, repo/, pr/, release/).

- [ ] Remove Client type wrapper from root package
- [ ] Remove NewClient() and NewClientWithToken() from root package
- [ ] Remove Query, Issues, Issue type aliases
- [ ] Remove re-exported constants (ParamUser, ParamState, etc.)
- [ ] Remove SearchOpenPullRequests, SearchIssues, SearchIssuesAll wrapper methods

**Migration Guide:**

Replace imports:

```go
// Before (v0.2.x style - deprecated)
import "github.com/grokify/gogithub"

c := gogithub.NewClient(httpClient)
issues, _ := c.SearchIssuesAll(ctx, gogithub.Query{
    gogithub.ParamUser: "grokify",
}, nil)

// After (v0.3.0+ style - required for v0.4.0)
import (
    "github.com/grokify/gogithub/auth"
    "github.com/grokify/gogithub/search"
)

gh := auth.NewGitHubClient(ctx, token)
c := search.NewClient(gh)
issues, _ := c.SearchIssuesAll(ctx, search.Query{
    search.ParamUser: "grokify",
}, nil)
```

<a id="relocate-constants"></a>

### [ ] Relocate misplaced constants to appropriate packages

Move constants currently in search/issues.go to more appropriate locations:

- [ ] Move UsernameDependabot, UserIDDependabot to auth/ package
- [ ] Move BaseURLRepoAPI, BaseURLRepoHTML to appropriate location
- [ ] Update internal imports to use new locations

---

## Contributing <a href="#gogithub-roadmap">↑ Top</a>

Contributions are welcome! Priority areas:

- Test coverage for all packages
- Documentation improvements
- Bug fixes for identified issues
- New GitHub API operations
