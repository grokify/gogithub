# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html),
commits follow [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/),
and this changelog is generated by [Structured Changelog](https://github.com/grokify/structured-changelog).

## [Unreleased]

## [v0.6.0] - 2026-01-17

### Highlights

- Added `graphql` package for GitHub GraphQL API support with user contribution statistics
- Added MkDocs documentation site with Material theme, auto-deployed to GitHub Pages
- Two approaches for commit statistics: quick stats (profile view) and detailed stats (additions/deletions)

### Added

- New `graphql` package for GitHub GraphQL API ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.NewClient()` and `graphql.NewEnterpriseClient()` for GraphQL client creation ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.GetContributionStats()` for quick contribution statistics (like GitHub profile) ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.GetContributionStatsMultiYear()` for multi-year contribution queries ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.GetCommitStats()` for detailed commit stats with additions/deletions ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.GetCommitStatsByVisibility()` for stats split by public/private repositories ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.Visibility` type with `VisibilityAll`, `VisibilityPublic`, `VisibilityPrivate` constants ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.ContributionStats` type with monthly contribution breakdown ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- `graphql.CommitStats` type with per-repo and per-month breakdowns including line changes ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- MkDocs documentation site with Material theme at https://grokify.github.io/gogithub/ ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Documentation guides for all packages: auth, search, repo, pr, release, graphql, errors ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- GitHub Actions workflow for automatic documentation deployment to gh-pages ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))

### Dependencies

- Added `github.com/shurcooL/githubv4` for GitHub GraphQL API support ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))
- Added `github.com/shurcooL/graphql` (indirect dependency) ([`6277bd5`](https://github.com/grokify/gogithub/commit/6277bd5))

### Documentation

- Added MkDocs configuration (mkdocs.yml) with Material theme ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Added documentation home page (docs/index.md) ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Added getting started guide (docs/getting-started.md) ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Added API reference page with links to pkg.go.dev (docs/api-reference.md) ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Added package guides: auth, search, repo, pr, release, graphql, errors ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Added .github/workflows/docs.yaml for automatic gh-pages deployment ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))
- Updated README.md with documentation site link ([`88108f5`](https://github.com/grokify/gogithub/commit/88108f5))

## [v0.5.0] - 2026-01-17

### Highlights

- Added `QueryBuilder` for type-safe, fluent query construction
- Preserved `Query` map type for flexibility with new GitHub search qualifiers
- Removed `NewClientHTTP` - use `search.NewClient(github.NewClient(httpClient))` instead

### Breaking

- Removed `search.NewClientHTTP()` - use `search.NewClient(github.NewClient(httpClient))` instead

### Added

- `QueryBuilder` type with fluent builder pattern for constructing search queries
- `NewQuery()` function to create a new `QueryBuilder`
- `QueryBuilder.User()`, `Org()`, `Repo()` methods for scope filtering
- `QueryBuilder.State()`, `StateOpen()`, `StateClosed()` methods for state filtering
- `QueryBuilder.Is()`, `IsPR()`, `IsIssue()` methods for type filtering
- `QueryBuilder.Author()`, `Assignee()`, `Label()`, `Mentions()`, `Involves()` methods
- `QueryBuilder.Set(key, value)` escape hatch for any search qualifier
- `QueryBuilder.Build()` method returning the underlying `Query` map

### Changed

- `SearchOpenPullRequests` now uses `QueryBuilder` internally
- Example command `cmd/searchuserpr` updated to use `QueryBuilder` pattern

### Removed

- Removed `search.NewClientHTTP()` factory function

### Documentation

- Added RELEASE_NOTES_v0.5.0.md with migration guide and usage examples

## [v0.4.0] - 2026-01-17

### Highlights

- Breaking change release: removed backward compatibility layer from v0.3.0
- Relocated constants to more appropriate packages for better code organization
- Improved error handling with `AuthError.Unwrap()` for error chain compatibility
- Fixed `Query.Encode()` to produce deterministic output

### Breaking

- Removed `Client` type from root package - use `auth.NewGitHubClient()` + subpackage clients
- Removed `NewClient()` and `NewClientWithToken()` from root package - use `auth.NewGitHubClient()`
- Removed type aliases (`Query`, `Issues`, `Issue`) from root package - import from `search` package
- Removed re-exported constants (`ParamUser`, `ParamState`, etc.) from root package - import from `search` package
- Removed wrapper methods (`SearchOpenPullRequests`, `SearchIssues`, `SearchIssuesAll`) from root package - use `search.Client` methods
- Moved `UsernameDependabot` and `UserIDDependabot` from `search` to `auth` package
- Moved `BaseURLRepoAPI` and `BaseURLRepoHTML` from `search` to root `gogithub` package

### Added

- `AuthError.Unwrap()` method for Go 1.13+ error chain compatibility ([`ca95de0`](https://github.com/grokify/gogithub/commit/ca95de0))
- `AuthError.Err` field to wrap underlying errors ([`ca95de0`](https://github.com/grokify/gogithub/commit/ca95de0))

### Changed

- Root package now contains only package documentation and URL constants
- Bot user constants (`UsernameDependabot`, `UserIDDependabot`) now in `auth` package
- URL constants (`BaseURLRepoAPI`, `BaseURLRepoHTML`) now in root `gogithub` package
- `search/issues.go` now imports URL constants from root package

### Removed

- Removed `Client` type wrapper from root package
- Removed `NewClient()` factory function from root package
- Removed `NewClientWithToken()` factory function from root package
- Removed `Query`, `Issues`, `Issue` type aliases from root package
- Removed all re-exported constants from root package
- Removed `SearchOpenPullRequests()`, `SearchIssues()`, `SearchIssuesAll()` wrapper methods from root package

### Fixed

- `Query.Encode()` now produces deterministic output by sorting keys ([`9be7777`](https://github.com/grokify/gogithub/commit/9be7777))

### Documentation

- Added RELEASE_NOTES_v0.4.0.md with migration guide
- Updated ROADMAP.md marking v0.4.0 breaking changes as completed

## [v0.3.0] - 2026-01-17

### Highlights

- Major architecture refactor: reorganized into modular subpackages by operation type
- Added comprehensive GitHub API operations for repositories, pull requests, and releases
- Maintained backward compatibility with v0.2.x API (deprecated, will be removed in v0.4.0)

### Added

- New `errors` package with standard error types (`ErrNotFound`, `ErrPermissionDenied`, `ErrRateLimited`, etc.) and `Translate` function ([`fab4e3e`](https://github.com/grokify/gogithub/commit/fab4e3e))
- New `config` package with `Config` struct, `FromEnv`, `FromEnvWithConfig`, GitHub Enterprise support ([`17b5e0e`](https://github.com/grokify/gogithub/commit/17b5e0e))
- New `pathutil` package with `Validate`, `Normalize`, `Join`, `Split`, `Dir`, `Base`, `Ext`, `HasPrefix` functions ([`17b5e0e`](https://github.com/grokify/gogithub/commit/17b5e0e))
- New `auth` package with `NewGitHubClient`, `GetAuthenticatedUser`, `GetUser` functions ([`758e477`](https://github.com/grokify/gogithub/commit/758e477))
- New `search` package with `Client`, `SearchIssues`, `SearchIssuesAll`, `Query` builder, and `Issues` type with table generation ([`2b9a557`](https://github.com/grokify/gogithub/commit/2b9a557))
- New `repo` package with fork operations (`EnsureFork`, `GetDefaultBranch`) ([`8c7104e`](https://github.com/grokify/gogithub/commit/8c7104e))
- New `repo` package with branch operations (`CreateBranch`, `GetBranchSHA`, `DeleteBranch`, `BranchExists`) ([`8c7104e`](https://github.com/grokify/gogithub/commit/8c7104e))
- New `repo` package with commit operations (`CreateCommit`, `ReadLocalFiles`, `FileContent` type) ([`8c7104e`](https://github.com/grokify/gogithub/commit/8c7104e))
- New `repo` package with listing operations (`ListOrgRepos`, `ListUserRepos`, `GetRepo`, `ParseRepoName`) ([`8c7104e`](https://github.com/grokify/gogithub/commit/8c7104e))
- New `repo` package with batch operations (`Batch` type for atomic multi-file commits) ([`8c7104e`](https://github.com/grokify/gogithub/commit/8c7104e))
- New `pr` package with `CreatePR`, `GetPR`, `ListPRs`, `MergePR`, `ClosePR`, `AddPRReviewers`, `ListPRFiles`, `ListPRComments` ([`fc65108`](https://github.com/grokify/gogithub/commit/fc65108))
- New `release` package with `ListReleases`, `ListReleasesSince`, `GetRelease`, `GetLatestRelease`, `GetReleaseByTag`, `ListReleaseAssets` ([`c123ea5`](https://github.com/grokify/gogithub/commit/c123ea5))
- New `cliutil` package with `GitStatusShortLines`, `GitRmDeletedLines`, `GitRmDeletedFile` helpers ([`c123ea5`](https://github.com/grokify/gogithub/commit/c123ea5))
- Example command `cmd/searchuserpr` for searching user pull requests ([`c123ea5`](https://github.com/grokify/gogithub/commit/c123ea5))

### Changed

- Reorganized codebase from flat package structure to modular subpackages by operation type ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Root package now provides backward-compatible re-exports delegating to subpackages ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Moved search functionality from `api_search.go` to `search/search.go` ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Moved constants from `constants.go` to `search/query.go` ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Moved issue types from `issue.go` to `search/issues.go` ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Moved example command from `pullrequest/cmd/searchuserpr` to `cmd/searchuserpr` ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))

### Deprecated

- Root package `Client` type - use `auth.NewGitHubClient` and subpackage clients directly ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Root package `NewClient` function - use `auth.NewGitHubClient` instead ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Root package `NewClientWithToken` function - use `auth.NewGitHubClient` instead ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Root package type aliases (`Query`, `Issues`, `Issue`) - import from `search` package directly ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Root package constant re-exports (`ParamUser`, `ParamState`, etc.) - import from `search` package directly ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Root package wrapper methods (`SearchOpenPullRequests`, `SearchIssues`, `SearchIssuesAll`) - use `search.Client` methods directly ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))

### Removed

- Removed `api_search.go` (functionality moved to `search/search.go`) ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Removed `constants.go` (functionality moved to `search/query.go`) ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Removed `issue.go` (functionality moved to `search/issues.go`) ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))
- Removed `pullrequest/` directory (functionality moved to `pr/` and `cmd/`) ([`04d3c80`](https://github.com/grokify/gogithub/commit/04d3c80))

### Dependencies

- Upgraded `github.com/google/go-github` from v68 to v81 ([`8309e32`](https://github.com/grokify/gogithub/commit/8309e32))
- Updated Go version from 1.22 to 1.24.0 ([`8309e32`](https://github.com/grokify/gogithub/commit/8309e32))
- Updated indirect dependencies ([`8309e32`](https://github.com/grokify/gogithub/commit/8309e32))

### Documentation

- Updated README with new modular package structure and usage examples ([`272526d`](https://github.com/grokify/gogithub/commit/272526d))
- Added RELEASE_NOTES_v0.3.0.md with comprehensive release documentation ([`272526d`](https://github.com/grokify/gogithub/commit/272526d))
- Added ROADMAP.json and ROADMAP.md with project roadmap and v0.4.0 deprecation plan ([`0a59369`](https://github.com/grokify/gogithub/commit/0a59369))
- Added missing v0.3.0 packages to README documentation ([`30fd20f`](https://github.com/grokify/gogithub/commit/30fd20f))
- Added structured changelog (CHANGELOG.json and CHANGELOG.md) ([`43c601e`](https://github.com/grokify/gogithub/commit/43c601e))

## Versions v0.2.4 - v0.2.5 (Maintenance)

2 releases: 2 dependency update(s).

## [v0.2.3] - 2025-03-10

### Changed

- Update dependencies via `go mod` ([`06c1ac2`](https://github.com/grokify/gogithub/commit/06c1ac2))

## [v0.2.2] - 2025-01-04

### Changed

- Dependency updates ([`58e2699`](https://github.com/grokify/gogithub/commit/58e2699))

## [v0.2.1] - 2024-02-05

### Changed

- Dependency updates

## [v0.2.0] - 2023-12-17

### Added

- Initial GitHub search API support ([`283c912`](https://github.com/grokify/gogithub/commit/283c912))
- `Client` type wrapping `go-github` client ([`283c912`](https://github.com/grokify/gogithub/commit/283c912))
- `SearchIssues` and `SearchIssuesAll` methods ([`d66e4f3`](https://github.com/grokify/gogithub/commit/d66e4f3))
- `Query` type for building search queries ([`283c912`](https://github.com/grokify/gogithub/commit/283c912))
- `Issues` type with table generation for reporting ([`283c912`](https://github.com/grokify/gogithub/commit/283c912))

## [v0.1.0] - 2023-12-17

### Added

- Initial release ([`43f8ecf`](https://github.com/grokify/gogithub/commit/43f8ecf))
- Basic GitHub API client wrapper ([`43f8ecf`](https://github.com/grokify/gogithub/commit/43f8ecf))

[unreleased]: https://github.com/grokify/gogithub/compare/v0.6.0...HEAD
[v0.6.0]: https://github.com/grokify/gogithub/compare/v0.5.0...v0.6.0
[v0.5.0]: https://github.com/grokify/gogithub/compare/v0.4.0...v0.5.0
[v0.4.0]: https://github.com/grokify/gogithub/compare/v0.3.0...v0.4.0
[v0.3.0]: https://github.com/grokify/gogithub/compare/v0.2.5...v0.3.0
[v0.2.5]: https://github.com/grokify/gogithub/compare/v0.2.4...v0.2.5
[v0.2.4]: https://github.com/grokify/gogithub/compare/v0.2.3...v0.2.4
[v0.2.3]: https://github.com/grokify/gogithub/compare/v0.2.2...v0.2.3
[v0.2.2]: https://github.com/grokify/gogithub/compare/v0.2.1...v0.2.2
[v0.2.1]: https://github.com/grokify/gogithub/compare/v0.2.0...v0.2.1
[v0.2.0]: https://github.com/grokify/gogithub/compare/v0.1.0...v0.2.0
[v0.1.0]: https://github.com/grokify/gogithub/releases/tag/v0.1.0
